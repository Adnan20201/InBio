import styles from"./../sass/aos.scss";import throttle from"lodash.throttle";import debounce from"lodash.debounce";import observer from"./libs/observer";import detect from"./helpers/detector";import handleScroll from"./helpers/handleScroll";import prepare from"./helpers/prepare";import elements from"./helpers/elements";let $aosElements=[],initialized=!1,options={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,mirror:!1,anchorPlacement:"top-bottom",startEvent:"DOMContentLoaded",animatedClassName:"aos-animate",initClassName:"aos-init",useClassNames:!1,disableMutationObserver:!1,throttleDelay:99,debounceDelay:50};const isBrowserNotSupported=()=>document.all&&!window.atob,initializeScroll=function(){return $aosElements=prepare($aosElements,options),handleScroll($aosElements),window.addEventListener("scroll",throttle(()=>{handleScroll($aosElements,options.once)},options.throttleDelay)),$aosElements},refresh=function(e=!1){e&&(initialized=!0),initialized&&($aosElements=prepare($aosElements,options),handleScroll($aosElements),window.addEventListener("scroll",throttle(()=>{handleScroll($aosElements,options.once)},options.throttleDelay)))},refreshHard=function(){if($aosElements=elements(),isDisabled(options.disable)||isBrowserNotSupported())return disable();refresh()},disable=function(){$aosElements.forEach(function(e,t){e.node.removeAttribute("data-aos"),e.node.removeAttribute("data-aos-easing"),e.node.removeAttribute("data-aos-duration"),e.node.removeAttribute("data-aos-delay"),options.initClassName&&e.node.classList.remove(options.initClassName),options.animatedClassName&&e.node.classList.remove(options.animatedClassName)})},isDisabled=function(e){return!0===e||"mobile"===e&&detect.mobile()||"phone"===e&&detect.phone()||"tablet"===e&&detect.tablet()||"function"==typeof e&&!0===e()},init=function(e){return options=Object.assign(options,e),$aosElements=elements(),options.disableMutationObserver||observer.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),options.disableMutationObserver=!0),options.disableMutationObserver||observer.ready("[data-aos]",refreshHard),isDisabled(options.disable)||isBrowserNotSupported()?disable():(document.querySelector("body").setAttribute("data-aos-easing",options.easing),document.querySelector("body").setAttribute("data-aos-duration",options.duration),document.querySelector("body").setAttribute("data-aos-delay",options.delay),-1===["DOMContentLoaded","load"].indexOf(options.startEvent)?document.addEventListener(options.startEvent,function(){refresh(!0)}):window.addEventListener("load",function(){refresh(!0)}),"DOMContentLoaded"===options.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1&&refresh(!0),window.addEventListener("resize",debounce(refresh,options.debounceDelay,!0)),window.addEventListener("orientationchange",debounce(refresh,options.debounceDelay,!0)),$aosElements)};export default{init:init,refresh:refresh,refreshHard:refreshHard};